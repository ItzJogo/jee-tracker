<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />

<title>JEE FOCUS TRACKER PRO â€” Yash v7.1 (Fixed)</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<link rel="stylesheet" href="style.css?v=1.1">


</head>
<body>

<div aria-live="polite" id="liveRegion"></div>

<div class="app">
<header class="topbar">
  <div class="brand">
    <div class="avatar" id="avatar">YR</div>
    <div>
      <div class="title">JEE FOCUS TRACKER â€” v7.1 PRO</div>
      <div class="subtitle">Neon Glass Cockpit â€” Yash Mode</div>
    </div>
  </div>

  <div style="display:flex;gap:8px;flex-wrap:wrap">
    <button class="btn" id="exportBtn">Export</button>
    <button class="btn" id="importBtn">Import</button>
    <button class="btn" id="themeToggle">â˜€ / ğŸŒ™</button>
  </div>
</header>

<main class="main-grid">
<section>

<div class="card">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <strong>Add / Edit Task</strong>
    <div id="todayDate" style="color:var(--muted);font-size:0.9rem"></div>
  </div>

  <div class="row" style="margin-top:12px;">
    <input id="title" class="input" placeholder="Study task e.g. GOC + 20Q">
  </div>

  <div class="form-inputs-grid" style="margin-top:12px;">
    <select id="subject" class="input">
      <option value="Chemistry">âš—ï¸ Chemistry</option>
      <option value="Physics">âš¡ Physics</option>
      <option value="Math">âˆ Math</option>
      <option value="Biology">ğŸ§¬ Biology</option>
    </select>

    <select id="chapter" class="input">
      <option value="">Select Chapter</option>
    </select>

    <select id="priority" class="input">
      <option value="High">High</option>
      <option value="Medium" selected>Medium</option>
      <option value="Low">Low</option>
    </select>

    <input id="minutes" type="number" class="input" placeholder="mins">

    <select id="blockSel" class="input">
      <option value="Block A">Block A (Morning)</option>
      <option value="Block B">Block B (Late Morning)</option>
      <option value="Block C">Block C (Afternoon/Evening)</option>
      <option value="Block D">Block D (Night)</option>
    </select>

    <input id="backlogTag" class="input" placeholder="Tag (Arjuna 4.0)">
  </div>
  <div class="row" style="margin-top:12px;">
    <input id="searchInput" class="input" style="max-width:240px;" placeholder="Search tasks...">
  </div>

  <div style="display:flex;gap:10px;margin-top:12px;flex-wrap: wrap;">
    <button class="btn primary" id="addBtn">+ Add Task</button>
    <button class="btn edit" id="cancelEditBtn" style="display:none;">Cancel Edit</button>

    <button class="btn" id="voiceBtn" title="Add task via mic">ğŸ¤</button>
    <button class="btn" id="templateBtn" title="Quick templates">ğŸ“„</button>
  </div>
</div>

<div id="templateModal" class="modal">
  <div class="modal-content">
    <span class="close" id="tempClose">&times;</span>
    <h3>Task Templates</h3>

    <div style="margin-top:10px;">
      <button class="btn primary" onclick="applyTemplate('Chemistry','GOC Revision','GOC',30,'High')">GOC â€“ 30 min</button>
    </div>

    <div style="margin-top:10px;">
      <button class="btn primary" onclick="applyTemplate('Physics','Kinematics PYQs','Kinematics',45,'High')">Kinematics PYQ â€“ 45 min</button>
    </div>

    <div style="margin-top:10px;">
      <button class="btn primary" onclick="applyTemplate('Math','Trigonometry Crash','Trigonometry',40,'Medium')">Trigonometry â€“ 40 min</button>
    </div>

    <div style="margin-top:10px;">
      <button class="btn" onclick="applyTemplate('Chemistry','Nomenclature','Basic Organic',20,'Low')">OC Nomenclature â€“ 20 min</button>
    </div>
  </div>
</div>


<div class="card" style="margin-top:12px;">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <strong>Your Tasks (Grouped)</strong>
    <div id="dateSmall" style="color:var(--muted);font-size:0.85rem;"></div>
  </div>

  <div class="row" style="margin-top:12px;">
    <select id="filterSubject" class="input" style="max-width:150px;">
      <option value="">Filter Subject</option>
    </select>

    <select id="filterPriority" class="input" style="max-width:150px;">
      <option value="">Filter Priority</option>
    </select>

    <button class="btn" id="clearFiltersBtn">Clear</button>
  </div>

  <div id="taskList" class="task-list"></div>

  <div id="evaAlert" style="margin-top:10px;font-weight:700;color:var(--accent-red);"></div>
</div>


<div class="card" style="margin-top:12px;">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <strong>Pilot Log (Daily Reflection)</strong>
    <div style="color:var(--muted);font-size:0.9rem">Write â€” Auto-save</div>
  </div>
  <textarea id="reflection" class="input" style="width:100%;min-height:90px;margin-top:10px;padding:12px;border-radius:12px;resize:vertical;" placeholder="How was study today?"></textarea>
  <div style="display:flex;gap:8px;margin-top:10px; flex-wrap: wrap;"> <button class="btn primary" id="saveRef">Save Reflection</button>
    <button class="btn" id="clearRef">Clear</button>
    <div id="autoSaveStatus" style="margin-left:auto;color:var(--muted);font-size:0.9rem">Last saved: â€”</div>
  </div>
</div>

<div class="card" style="margin-top:12px;">
  <div style="display:flex;justify-content:space-between;align-items:center; flex-wrap: wrap; gap: 8px;"> <strong>Daily Goal</strong>
    <input id="dailyGoalInput" type="number" class="input" style="max-width:100px" value="240" aria-label="Daily goal minutes">
  </div>

  <div style="margin-top:12px">
    <div class="progress-bar"><div id="progressFill" class="progress-fill" style="width:0%"></div></div>
    <div style="margin-top:8px;color:var(--muted)" id="progressText">0 / 240 mins</div>
  </div>

  <div style="display:flex;gap:8px;margin-top:12px;align-items:center; flex-wrap: wrap;"> <div style="flex:1">
      <div style="font-size:0.9rem;color:var(--muted)">Streak</div>
      <div id="streak" style="font-weight:800;font-size:1.1rem;color:var(--accent)">0 days</div>
    </div>
    <div style="width:160px">
      <button class="btn" id="resetStreak">Reset Streak</button>
    </div>
  </div>
</div>

<div class="card syllabus-section" style="margin-top:12px;">
  <div style="display:flex;justify-content:space-between;align-items:center; flex-wrap: wrap; gap: 8px;"> <strong>Syllabus Progress</strong>
    <select id="syllabusSubject" class="input" style="max-width:160px;">
      <option value="Physics">âš¡ Physics</option>
      <option value="Chemistry">âš—ï¸ Chemistry</option>
      <option value="Math">âˆ Math</option>
      <option value="Biology">ğŸ§¬ Biology</option>
    </select>
  </div>

  <div id="syllabusChapters" style="margin-top:12px;">
    <div style="text-align:center;color:var(--muted)">No progress yet â€” add tasks with chapter selected.</div>
  </div>

  <div style="display:flex;gap:8px;margin-top:12px; flex-wrap: wrap;"> <button class="btn primary" id="updateSyllabusBtn">Update Overall Progress</button>
    <button class="btn" id="exportSyllabusBtn">Export Syllabus</button>
  </div>
</div>

<div class="card" style="margin-top:12px;">
  <div style="display:flex;justify-content:space-between;align-items:center; flex-wrap: wrap; gap: 8px;"> <strong>Pomodoro Setup</strong>
    <div style="color:var(--muted);font-size:0.9rem">Custom timers</div>
  </div>

  <div class="row" style="margin-top:10px;">
    <input id="pomoWorkInput" type="number" class="input" style="max-width:120px" value="25" placeholder="Work (mins)">
    <input id="pomoBreakInput" type="number" class="input" style="max-width:120px" value="5" placeholder="Break (mins)">
    <button class="btn" id="setTimesBtn">Set</button>
  </div>

  <div style="margin-top:12px;text-align:center">
    <div id="pomoTimer" style="font-weight:800;font-size:22px">25:00</div>
    <div style="display:flex;gap:8px;justify-content:center;margin-top:8px; flex-wrap: wrap;"> <button class="btn primary" id="pStart">Start</button>
      <button class="btn" id="pPause">Pause</button>
      <button class="btn" id="pReset">Reset</button>
    </div>
  </div>
</div>

</section>
<section>

<div class="card">
  <strong>Dashboard</strong>

  <div style="display:flex;gap:12px;margin-top:10px;">
    <div style="flex:1;padding:12px;background:rgba(255,255,255,0.05);border-radius:10px;text-align:center;">
      <div style="color:var(--muted);font-size:0.9rem;">Total</div>
      <div id="total" style="font-size:1.3rem;font-weight:700;">0</div>
    </div>

    <div style="flex:1;padding:12px;background:rgba(255,255,255,0.05);border-radius:10px;text-align:center;">
      <div style="color:var(--muted);font-size:0.9rem;">Done</div>
      <div id="done" style="font-size:1.3rem;font-weight:700;color:var(--accent-green)">0</div>
    </div>

    <div style="flex:1;padding:12px;background:rgba(255,255,255,0.05);border-radius:10px;text-align:center;">
      <div style="color:var(--muted);font-size:0.9rem;">Missed</div>
      <div id="missed" style="font-size:1.3rem;font-weight:700;color:var(--accent-red)">0</div>
    </div>
  </div>

</div>

<div class="card" style="margin-top:12px;">
  <strong>Subject Progress (Today)</strong>
  <canvas id="progressChart" style="margin-top:10px;max-height:240px;"></canvas>
</div>

<div class="card" style="margin-top:12px;">
  <strong>Syllabus Overall Progress</strong>
  <canvas id="syllabusChart" style="margin-top:10px;max-height:240px;"></canvas>
</div>

<div class="card" style="margin-top:12px;">
  <strong>Calendar (Last 7 Days)</strong>
  <div id="calendar" class="calendar-grid" style="margin-top:12px;display:grid;grid-template-columns:repeat(7,1fr);gap:8px;"></div>
</div>

<div class="card" style="margin-top:12px;">
  <strong>Anime / Manga Log</strong>

  <div class="row" style="margin-top:10px;margin-bottom:8px;">
    <input id="mediaTitleInput" class="input" placeholder="Add title">
  </div>

  <div style="display:flex;gap:8px; flex-wrap: wrap;"> <button class="btn primary" id="addAnimeBtn" style="flex:1;">+ Anime</button>
    <button class="btn primary" id="addMangaBtn" style="flex:1;">+ Manga</button>
  </div>

  <div style="margin-top:16px;border:1px solid rgba(255,255,255,0.05);padding:10px;border-radius:10px;">

    <div style="font-size:0.9rem;color:var(--accent);">ğŸ“º Anime List:</div>
    <div id="animeListContainer" style="max-height:160px;overflow-y:auto;margin-top:6px;"></div>

    <div style="font-size:0.9rem;color:var(--accent-red);margin-top:14px;">ğŸ“– Manga List:</div>
    <div id="mangaListContainer" style="max-height:160px;overflow-y:auto;margin-top:6px;"></div>

  </div>
</div>

</section>
<div id="editModal" class="modal">
  <div class="modal-content">
    <span class="close" id="editClose">&times;</span>
    <h3>Edit Task</h3>

    <div class="row" style="margin-top:12px;">
      <input id="editTitle" class="input" placeholder="Task Title">
    </div>

    <div class="row" style="margin-top:12px;">
      <select id="editSubject" class="input" style="max-width:170px;"></select>
      <select id="editChapter" class="input" style="max-width:240px;"><option value="">Select Chapter</option></select>
      <select id="editPriority" class="input" style="max-width:140px;"></select>
      <input id="editMinutes" type="number" class="input" style="max-width:90px;" placeholder="mins">
    </div>

    <div class="row" style="margin-top:12px;">
      <select id="editBlock" class="input" style="max-width:200px;">
        <option value="Block A">Block A (Morning)</option>
        <option value="Block B">Block B (Late Morning)</option>
        <option value="Block C">Block C (Afternoon/Evening)</option>
        <option value="Block D">Block D (Night)</option>
      </select>

      <input id="editBacklog" class="input" style="max-width:170px;" placeholder="Tag">
    </div>

    <div style="display:flex;gap:10px;margin-top:14px; flex-wrap: wrap;"> <button class="btn primary" id="saveEditBtn">Save Changes</button>
      <button class="btn danger" id="deleteEditBtn">Delete Task</button>
    </div>
  </div>
</div>


<div class="pomo-fixed" id="miniPomo">
  <div style="font-size:12px;color:var(--muted);">â±ï¸ Pomodoro</div>
  <div id="miniTimer" style="font-weight:800;font-size:18px;">25:00</div>
  <div style="display:flex;gap:6px;margin-top:8px;">
    <button class="btn primary" id="miniStart">â–¶</button>
    <button class="btn" id="miniPause">II</button>
  </div>
</div>

</main>
</div> 

<script src="script.js"></script>

</body>
</html>
